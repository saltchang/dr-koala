---
alwaysApply: true
---
We are in a clean architecture codebase. The `app/` directory is the backend application. In the `app/` directory there are folders for different layers of the backend application. `adapter/` folder is for third party services layer. `api/` folder is for the user interaction layer such as FastAPI and CLI. `config/` folder is for system-wide configuration such as env vars and logging setting. `core/` folder is for the models and enums or other constants that defined for core business logic. `service/` folder is for the use cases of the core business logic. `repository/` is for the data source layer such as PostgreSQL and Redis. `utility/` folder is for the general pure functions that not for specific business logic. `worker/` folder to put the worker and tasks such as celery. We use Protocol instead of ABC for defining abstraction.

The frontend application is in the `frontend/` directory.

The project structure:

```txt
.
├── app/
│   ├── adapter/      # Third-party services (LLM providers, Web search engines, etc.)
│   ├── api/          # User interaction (FastAPI, CLI)
│   ├── config/       # System config (env vars, logging)
│   ├── core/         # Models, enums, constants
│   ├── repository/   # Data sources (PostgreSQL, Redis)
│   ├── service/      # Use cases/business logic
│   ├── utility/      # General pure functions
│   ├── worker/       # Celery worker and tasks
│   ├── test/         # Tests for the application
│   └── main.py       # Main application entry point (likely FastAPI)
├── frontend/         # Frontend application (React, Next.js, etc.)
├── migrations/       # Database migration scripts (e.g., Alembic)
├── scripts/          # Utility scripts (dev, deployment, maintenance)
└── type-stub/        # Type stub files (.pyi) for external libraries
```

For the PYTHONPATH and the available commands of this project please refer to the Makefile.
